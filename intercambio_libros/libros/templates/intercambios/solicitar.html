{# 
    Plantilla: solicitar_intercambio.html
    Descripci√≥n: Muestra el formulario que un usuario debe llenar para solicitar un intercambio por un libro.
    Incluye datos de contacto y un mensaje personalizado.
#}

{% extends 'base.html' %}  {# Hereda el dise√±o general de la plantilla base del sitio #}
{% load static %}          {# Permite el uso de archivos est√°ticos (CSS, JS, im√°genes, etc.) #}
{% load form_tags %}       {# Carga un filtro personalizado para aplicar clases a los campos del formulario #}

{% block content %}
<div class="container mt-5 d-flex justify-content-center">
    <div class="card shadow" style="max-width: 600px; width: 100%;">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Solicitar Intercambio</h5>
        </div>
        <div class="card-body">

            {# Si hay errores en el formulario, muestra un mensaje de alerta #}
            {% if form.errors %}
                <div class="alert alert-danger">
                    <strong>‚ö†Ô∏è Por favor, llena los campos y/o corrige los errores antes de enviar la solicitud.</strong>
                </div>
            {% endif %}

            {# Formulario de solicitud de intercambio #}
            <form method="post" novalidate>
                {% csrf_token %}  {# Token de seguridad CSRF para evitar ataques de falsificaci√≥n #}
                {{ form.non_field_errors }}  {# Muestra errores generales del formulario que no pertenecen a un campo espec√≠fico #}

                {# Campo: mensaje personalizado del usuario solicitante #}
                <div class="mb-3">
                    {{ form.mensaje.label_tag }}  
                    {{ form.mensaje|add_class:"form-control" }}
                </div>

                {# Campo: nombres completos del solicitante #}
                <div class="mb-3">
                    {{ form.nombres_completos.label_tag }}  
                    {{ form.nombres_completos|add_class:"form-control" }}
                </div>

                {# Campo: DNI del contacto (identificaci√≥n) #}
                <div class="mb-3">
                    {{ form.dni_contacto.label_tag }}  
                    {{ form.dni_contacto|add_class:"form-control" }}
                </div>

                {# Campo: tel√©fono del contacto #}
                <div class="mb-3">
                    {{ form.telefono_contacto.label_tag }}  
                    {{ form.telefono_contacto|add_class:"form-control" }}
                </div>

                {# Campo: direcci√≥n de contacto #}
                <div class="mb-3">
                    {{ form.direccion_contacto.label_tag }}  
                    {{ form.direccion_contacto|add_class:"form-control" }}
                </div>

                {# Campo: c√≥digo postal del contacto #}
                <div class="mb-3">
                    {{ form.codigo_postal_contacto.label_tag }}  
                    {{ form.codigo_postal_contacto|add_class:"form-control" }}
                </div>

                {# Campo: pa√≠s de contacto #}
                <div class="mb-3">
                    {{ form.pais_contacto.label_tag }}  
                    {{ form.pais_contacto|add_class:"form-control" }}
                </div>

                {# Bot√≥n de env√≠o del formulario #}
                <button type="submit" class="btn btn-success w-100">
                    <small>üì© Enviar solicitud</small>
                </button>
            </form>
        </div>
    </div>
</div>

{# Enlace para volver al inicio del sitio #}
<div class="text-center mt-3">
    <a href="{% url 'inicio' %}" class="btn btn-outline-secondary btn-sm">‚Üê Volver al inicio</a>
</div>
{% endblock %}

{# 
    Fin de la plantilla 'solicitar_intercambio.html'.
    Esta p√°gina permite a los usuarios enviar una solicitud de intercambio incluyendo sus datos personales.
#}